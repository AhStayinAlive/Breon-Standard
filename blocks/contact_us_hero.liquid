{% doc %}
  @prompt
    Create a mobile-first dark "Problem Solver CTA" section with centered heading and subheading, followed by a vertical stack of large pill buttons that are full-width on mobile (up to 360px max-width) with 20px gaps. Background image support with overlay. Use minimal CSS with no JavaScript, accessible focus states, and fully customizable colors, fonts, and spacing through theme editor. Schema should include section settings for all styling options, heading, subheading, and background_image. Include five default CTA examples with unified button styling.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-problem-solver-cta-{{ ai_gen_id }} {
    background-color: {{ block.settings.background_color | default: '#0E1116' }};
    color: {{ block.settings.text_color | default: '#FFFFFF' }};
    padding: {{ block.settings.section_padding_mobile }}px 20px;
    min-height: {{ block.settings.min_height_mobile }}vh;
    display: flex;
    align-items: center;
    position: relative;
    {% if block.settings.background_image %}
      background-image: url('{{ block.settings.background_image | image_url: width: 1920 }}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    {% endif %}
  }

  {% if block.settings.background_image and block.settings.overlay_enable %}
  .ai-problem-solver-cta-{{ ai_gen_id }}::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: {{ block.settings.overlay_color }};
    opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};
    z-index: 1;
  }
  {% endif %}

  .ai-problem-solver-cta__container-{{ ai_gen_id }} {
    max-width: {{ block.settings.max_width }}px;
    margin: 0 auto;
    width: 100%;
    position: relative;
    z-index: 2;
  }

  .ai-problem-solver-cta__content-{{ ai_gen_id }} {
    text-align: center;
  }

  .ai-problem-solver-cta__heading-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_size_mobile }}px;
    font-weight: {{ block.settings.heading_weight }};
    line-height: {{ block.settings.heading_line_height }};
    margin: 0 0 {{ block.settings.heading_margin_bottom }}px 0;
    color: {{ block.settings.heading_color | default: block.settings.text_color | default: '#FFFFFF' }};
  }

  .ai-problem-solver-cta__subheading-{{ ai_gen_id }} {
    font-size: {{ block.settings.subheading_size_mobile }}px;
    color: {{ block.settings.subheading_color | default: '#A8B0BB' }};
    margin: 0 0 {{ block.settings.subheading_margin_bottom }}px 0;
    line-height: {{ block.settings.subheading_line_height }};
    font-weight: {{ block.settings.subheading_weight }};
  }

  .ai-problem-solver-cta__buttons-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: {{ block.settings.button_gap }}px;
    max-width: {{ block.settings.buttons_max_width }}px;
    margin: 0 auto;
  }

  .ai-problem-solver-cta__button-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: {{ block.settings.button_padding_y }}px {{ block.settings.button_padding_x }}px;
    border-radius: {{ block.settings.button_border_radius }}px;
    text-decoration: none;
    font-size: {{ block.settings.button_font_size }}px;
    font-weight: {{ block.settings.button_font_weight }};
    transition: all 0.3s ease;
    border: {{ block.settings.button_border_width }}px solid {{ block.settings.button_border | default: 'rgba(255, 255, 255, 0.2)' }};
    position: relative;
    min-height: {{ block.settings.button_min_height }}px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    background-color: {{ block.settings.button_bg | default: 'rgba(22, 27, 34, 0.95)' }};
    color: {{ block.settings.button_text | default: '#FFFFFF' }};
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .ai-problem-solver-cta__button-{{ ai_gen_id }}:focus {
    outline: 2px solid {{ block.settings.focus_color | default: '#FFFFFF' }};
    outline-offset: 2px;
  }

  .ai-problem-solver-cta__button-{{ ai_gen_id }}:hover {
    transform: translateY(-{{ block.settings.hover_lift }}px);
    box-shadow: 0 {{ block.settings.hover_shadow_y }}px {{ block.settings.hover_shadow_blur }}px {{ block.settings.hover_shadow_color }};
    background-color: {{ block.settings.button_hover_bg | default: 'rgba(28, 33, 40, 0.98)' }};
  }

  .ai-problem-solver-cta__button-content-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    flex-grow: 1;
  }

  .ai-problem-solver-cta__button-label-{{ ai_gen_id }} {
    font-size: {{ block.settings.button_font_size }}px;
    font-weight: {{ block.settings.button_font_weight }};
    margin-bottom: 2px;
  }

  .ai-problem-solver-cta__button-tag-{{ ai_gen_id }} {
    font-size: {{ block.settings.button_tag_size }}px;
    color: {{ block.settings.button_tag_color | default: '#A8B0BB' }};
    font-weight: {{ block.settings.button_tag_weight }};
  }

  .ai-problem-solver-cta__button-arrow-{{ ai_gen_id }} {
    width: {{ block.settings.arrow_size }}px;
    height: {{ block.settings.arrow_size }}px;
    margin-left: 16px;
    flex-shrink: 0;
  }

  @media screen and (min-width: 768px) {
    .ai-problem-solver-cta-{{ ai_gen_id }} {
      padding: {{ block.settings.section_padding_desktop }}px 20px;
      min-height: {{ block.settings.min_height_desktop }}vh;
    }

    .ai-problem-solver-cta__content-{{ ai_gen_id }} {
      text-align: {{ block.settings.text_alignment_desktop }};
    }

    .ai-problem-solver-cta__buttons-{{ ai_gen_id }} {
      {% if block.settings.text_alignment_desktop == 'left' %}
        margin: 0;
      {% elsif block.settings.text_alignment_desktop == 'right' %}
        margin: 0 0 0 auto;
      {% else %}
        margin: 0 auto;
      {% endif %}
    }

    .ai-problem-solver-cta__heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size_desktop }}px;
    }

    .ai-problem-solver-cta__subheading-{{ ai_gen_id }} {
      font-size: {{ block.settings.subheading_size_desktop }}px;
    }
  }
{% endstyle %}

<div class="ai-problem-solver-cta-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-problem-solver-cta__container-{{ ai_gen_id }}">
    <div class="ai-problem-solver-cta__content-{{ ai_gen_id }}">
      {% if block.settings.heading != blank %}
        <h2 class="ai-problem-solver-cta__heading-{{ ai_gen_id }}">
          {{ block.settings.heading }}
        </h2>
      {% endif %}

      {% if block.settings.subheading != blank %}
        <p class="ai-problem-solver-cta__subheading-{{ ai_gen_id }}">
          {{ block.settings.subheading }}
        </p>
      {% endif %}

      <div class="ai-problem-solver-cta__buttons-{{ ai_gen_id }}">
        {% if block.settings.cta_1_label != blank %}
          <a 
            href="{{ block.settings.cta_1_link | default: '#' }}"
            class="ai-problem-solver-cta__button-{{ ai_gen_id }}"
          >
            <div class="ai-problem-solver-cta__button-content-{{ ai_gen_id }}">
              <span class="ai-problem-solver-cta__button-label-{{ ai_gen_id }}">
                {{ block.settings.cta_1_label }}
              </span>
              {% if block.settings.cta_1_tag != blank %}
                <span class="ai-problem-solver-cta__button-tag-{{ ai_gen_id }}">
                  {{ block.settings.cta_1_tag }}
                </span>
              {% endif %}
            </div>
            <svg class="ai-problem-solver-cta__button-arrow-{{ ai_gen_id }}" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          </a>
        {% endif %}

        {% if block.settings.cta_2_label != blank %}
          <a 
            href="{{ block.settings.cta_2_link | default: '#' }}"
            class="ai-problem-solver-cta__button-{{ ai_gen_id }}"
          >
            <div class="ai-problem-solver-cta__button-content-{{ ai_gen_id }}">
              <span class="ai-problem-solver-cta__button-label-{{ ai_gen_id }}">
                {{ block.settings.cta_2_label }}
              </span>
              {% if block.settings.cta_2_tag != blank %}
                <span class="ai-problem-solver-cta__button-tag-{{ ai_gen_id }}">
                  {{ block.settings.cta_2_tag }}
                </span>
              {% endif %}
            </div>
            <svg class="ai-problem-solver-cta__button-arrow-{{ ai_gen_id }}" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          </a>
        {% endif %}

        {% if block.settings.cta_3_label != blank %}
          <a 
            href="{{ block.settings.cta_3_link | default: '#' }}"
            class="ai-problem-solver-cta__button-{{ ai_gen_id }}"
          >
            <div class="ai-problem-solver-cta__button-content-{{ ai_gen_id }}">
              <span class="ai-problem-solver-cta__button-label-{{ ai_gen_id }}">
                {{ block.settings.cta_3_label }}
              </span>
              {% if block.settings.cta_3_tag != blank %}
                <span class="ai-problem-solver-cta__button-tag-{{ ai_gen_id }}">
                  {{ block.settings.cta_3_tag }}
                </span>
              {% endif %}
            </div>
            <svg class="ai-problem-solver-cta__button-arrow-{{ ai_gen_id }}" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          </a>
        {% endif %}

        {% if block.settings.cta_4_label != blank %}
          <a 
            href="{{ block.settings.cta_4_link | default: '#' }}"
            class="ai-problem-solver-cta__button-{{ ai_gen_id }}"
          >
            <div class="ai-problem-solver-cta__button-content-{{ ai_gen_id }}">
              <span class="ai-problem-solver-cta__button-label-{{ ai_gen_id }}">
                {{ block.settings.cta_4_label }}
              </span>
              {% if block.settings.cta_4_tag != blank %}
                <span class="ai-problem-solver-cta__button-tag-{{ ai_gen_id }}">
                  {{ block.settings.cta_4_tag }}
                </span>
              {% endif %}
            </div>
            <svg class="ai-problem-solver-cta__button-arrow-{{ ai_gen_id }}" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          </a>
        {% endif %}

        {% if block.settings.cta_5_label != blank %}
          <a 
            href="{{ block.settings.cta_5_link | default: '#' }}"
            class="ai-problem-solver-cta__button-{{ ai_gen_id }}"
          >
            <div class="ai-problem-solver-cta__button-content-{{ ai_gen_id }}">
              <span class="ai-problem-solver-cta__button-label-{{ ai_gen_id }}">
                {{ block.settings.cta_5_label }}
              </span>
              {% if block.settings.cta_5_tag != blank %}
                <span class="ai-problem-solver-cta__button-tag-{{ ai_gen_id }}">
                  {{ block.settings.cta_5_tag }}
                </span>
              {% endif %}
            </div>
            <svg class="ai-problem-solver-cta__button-arrow-{{ ai_gen_id }}" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Problem solver CTA",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "We want your problems solved more than you do"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "What can we do for you?"
    },
    {
      "type": "header",
      "content": "Background & Layout"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#0E1116"
    },
    {
      "type": "checkbox",
      "id": "overlay_enable",
      "label": "Enable overlay",
      "default": false
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 50
    },
    {
      "type": "range",
      "id": "max_width",
      "label": "Max content width",
      "min": 800,
      "max": 1400,
      "step": 50,
      "unit": "px",
      "default": 1200
    },
    {
      "type": "select",
      "id": "text_alignment_desktop",
      "label": "Desktop text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Section Spacing"
    },
    {
      "type": "range",
      "id": "section_padding_mobile",
      "label": "Mobile padding",
      "min": 20,
      "max": 120,
      "step": 10,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_desktop",
      "label": "Desktop padding",
      "min": 40,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 80
    },
    {
      "type": "range",
      "id": "min_height_mobile",
      "label": "Mobile min height",
      "min": 50,
      "max": 100,
      "step": 10,
      "unit": "vh",
      "default": 100
    },
    {
      "type": "range",
      "id": "min_height_desktop",
      "label": "Desktop min height",
      "min": 50,
      "max": 100,
      "step": 10,
      "unit": "vh",
      "default": 100
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Default text color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "heading_size_mobile",
      "label": "Mobile heading size",
      "min": 24,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 32
    },
    {
      "type": "range",
      "id": "heading_size_desktop",
      "label": "Desktop heading size",
      "min": 32,
      "max": 80,
      "step": 2,
      "unit": "px",
      "default": 48
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "Heading weight",
      "options": [
        {"value": "400", "label": "Normal"},
        {"value": "500", "label": "Medium"},
        {"value": "600", "label": "Semi Bold"},
        {"value": "700", "label": "Bold"},
        {"value": "800", "label": "Extra Bold"}
      ],
      "default": "700"
    },
    {
      "type": "range",
      "id": "heading_line_height",
      "label": "Heading line height",
      "min": 1.0,
      "max": 2.0,
      "step": 0.1,
      "default": 1.2
    },
    {
      "type": "range",
      "id": "heading_margin_bottom",
      "label": "Heading bottom margin",
      "min": 8,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 16
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading color",
      "default": "#A8B0BB"
    },
    {
      "type": "range",
      "id": "subheading_size_mobile",
      "label": "Mobile subheading size",
      "min": 14,
      "max": 28,
      "step": 1,
      "unit": "px",
      "default": 18
    },
    {
      "type": "range",
      "id": "subheading_size_desktop",
      "label": "Desktop subheading size",
      "min": 16,
      "max": 32,
      "step": 1,
      "unit": "px",
      "default": 20
    },
    {
      "type": "select",
      "id": "subheading_weight",
      "label": "Subheading weight",
      "options": [
        {"value": "300", "label": "Light"},
        {"value": "400", "label": "Normal"},
        {"value": "500", "label": "Medium"},
        {"value": "600", "label": "Semi Bold"}
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "subheading_line_height",
      "label": "Subheading line height",
      "min": 1.2,
      "max": 2.0,
      "step": 0.1,
      "default": 1.4
    },
    {
      "type": "range",
      "id": "subheading_margin_bottom",
      "label": "Subheading bottom margin",
      "min": 20,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "header",
      "content": "Button Styling"
    },
    {
      "type": "range",
      "id": "buttons_max_width",
      "label": "Buttons max width",
      "min": 280,
      "max": 500,
      "step": 20,
      "unit": "px",
      "default": 360
    },
    {
      "type": "range",
      "id": "button_gap",
      "label": "Gap between buttons",
      "min": 10,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "button_padding_y",
      "label": "Button vertical padding",
      "min": 12,
      "max": 32,
      "step": 2,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "button_padding_x",
      "label": "Button horizontal padding",
      "min": 16,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Button border radius",
      "min": 4,
      "max": 50,
      "step": 2,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_border_width",
      "label": "Button border width",
      "min": 1,
      "max": 4,
      "step": 1,
      "unit": "px",
      "default": 2
    },
    {
      "type": "range",
      "id": "button_min_height",
      "label": "Button minimum height",
      "min": 50,
      "max": 80,
      "step": 2,
      "unit": "px",
      "default": 52
    },
    {
      "type": "range",
      "id": "button_font_size",
      "label": "Button font size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "select",
      "id": "button_font_weight",
      "label": "Button font weight",
      "options": [
        {"value": "400", "label": "Normal"},
        {"value": "500", "label": "Medium"},
        {"value": "600", "label": "Semi Bold"},
        {"value": "700", "label": "Bold"}
      ],
      "default": "600"
    },
    {
      "type": "range",
      "id": "button_tag_size",
      "label": "Button tag font size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "color",
      "id": "button_tag_color",
      "label": "Button tag color",
      "default": "#A8B0BB"
    },
    {
      "type": "select",
      "id": "button_tag_weight",
      "label": "Button tag weight",
      "options": [
        {"value": "300", "label": "Light"},
        {"value": "400", "label": "Normal"},
        {"value": "500", "label": "Medium"}
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "arrow_size",
      "label": "Arrow icon size",
      "min": 16,
      "max": 28,
      "step": 2,
      "unit": "px",
      "default": 20
    },
    {
      "type": "header",
      "content": "Button Colors"
    },
    {
      "type": "color",
      "id": "button_bg",
      "label": "Button background",
      "default": "rgba(22, 27, 34, 0.95)"
    },
    {
      "type": "color",
      "id": "button_text",
      "label": "Button text",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_border",
      "label": "Button border",
      "default": "rgba(255, 255, 255, 0.2)"
    },
    {
      "type": "color",
      "id": "button_hover_bg",
      "label": "Button hover background",
      "default": "rgba(28, 33, 40, 0.98)"
    },
    {
      "type": "header",
      "content": "Hover Effects"
    },
    {
      "type": "range",
      "id": "hover_lift",
      "label": "Hover lift distance",
      "min": 0,
      "max": 8,
      "step": 1,
      "unit": "px",
      "default": 2
    },
    {
      "type": "range",
      "id": "hover_shadow_y",
      "label": "Hover shadow vertical",
      "min": 4,
      "max": 16,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "range",
      "id": "hover_shadow_blur",
      "label": "Hover shadow blur",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "px",
      "default": 25
    },
    {
      "type": "color",
      "id": "hover_shadow_color",
      "label": "Hover shadow color",
      "default": "rgba(0, 0, 0, 0.3)"
    },
    {
      "type": "color",
      "id": "focus_color",
      "label": "Focus outline color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "CTA Button 1"
    },
    {
      "type": "text",
      "id": "cta_1_label",
      "label": "Button label",
      "default": "Schedule Consultation"
    },
    {
      "type": "url",
      "id": "cta_1_link",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "cta_1_tag",
      "label": "Button tag",
      "default": "Free 30-minute call"
    },
    {
      "type": "header",
      "content": "CTA Button 2"
    },
    {
      "type": "text",
      "id": "cta_2_label",
      "label": "Button label",
      "default": "Get Support"
    },
    {
      "type": "url",
      "id": "cta_2_link",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "cta_2_tag",
      "label": "Button tag",
      "default": "24/7 technical help"
    },
    {
      "type": "header",
      "content": "CTA Button 3"
    },
    {
      "type": "text",
      "id": "cta_3_label",
      "label": "Button label",
      "default": "Request Quote"
    },
    {
      "type": "url",
      "id": "cta_3_link",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "cta_3_tag",
      "label": "Button tag",
      "default": "Custom pricing available"
    },
    {
      "type": "header",
      "content": "CTA Button 4"
    },
    {
      "type": "text",
      "id": "cta_4_label",
      "label": "Button label",
      "default": "Book Installation"
    },
    {
      "type": "url",
      "id": "cta_4_link",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "cta_4_tag",
      "label": "Button tag",
      "default": "Professional setup"
    },
    {
      "type": "header",
      "content": "CTA Button 5"
    },
    {
      "type": "text",
      "id": "cta_5_label",
      "label": "Button label",
      "default": "Maintenance Plans"
    },
    {
      "type": "url",
      "id": "cta_5_link",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "cta_5_tag",
      "label": "Button tag",
      "default": "Ongoing care packages"
    }
  ],
  "presets": [
    {
      "name": "Problem solver CTA"
    }
  ]
}
{% endschema %}